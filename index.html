<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Aguna Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      .glass {
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
      }
      .stat-card:hover {
        transform: translateY(-5px);
        transition: all 0.3s ease;
      }
    </style>
  </head>
  <body class="bg-[#f8fafc] flex h-screen overflow-hidden">
    <aside
      class="w-72 bg-slate-900 text-white flex flex-col shrink-0 transition-all"
    >
      <div class="p-8 text-2xl font-black tracking-tighter text-indigo-400">
        AGUNA<span class="text-white">SYS</span>
      </div>
      <nav class="flex-grow px-4 space-y-1">
        <a
          href="index.html"
          class="flex items-center py-3 px-4 rounded-xl bg-indigo-600/10 text-indigo-400 border border-indigo-600/20 shadow-lg shadow-indigo-600/5"
        >
          <i class="fas fa-th-large mr-3"></i> Dashboard
        </a>
        <a
          href="dapur.html"
          class="flex items-center py-3 px-4 rounded-xl text-slate-400 hover:bg-slate-800 transition-all group"
        >
          <i class="fas fa-utensils mr-3 group-hover:text-indigo-400"></i> Menu
          Dapur
        </a>
      </nav>
      <div class="p-6 border-t border-slate-800">
        <div class="bg-slate-800 rounded-xl p-4 flex items-center">
          <div
            class="w-10 h-10 rounded-full bg-indigo-500 flex items-center justify-center font-bold"
          >
            A
          </div>
          <div class="ml-3">
            <p class="text-xs text-slate-400">Admin</p>
            <p class="text-sm font-bold">Aguna Koperasi</p>
          </div>
        </div>
      </div>
    </aside>

    <div class="flex-1 flex flex-col">
      <header
        class="h-20 bg-white/80 glass border-b border-slate-200 flex items-center justify-between px-10 sticky top-0 z-10"
      >
        <div>
          <h2 class="text-2xl font-bold text-slate-800">Overview Dashboard</h2>
          <p class="text-sm text-slate-500">Selamat datang kembali, Admin.</p>
        </div>
        <div class="flex items-center space-x-4">
          <span
            id="current-date"
            class="text-sm font-medium text-slate-500 bg-slate-100 px-4 py-2 rounded-lg"
          ></span>
        </div>
      </header>

      <main class="flex-1 overflow-y-auto p-10">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-10">
          <div
            class="stat-card bg-white p-8 rounded-3xl shadow-sm border border-slate-200 flex items-center justify-between"
          >
            <div>
              <p
                class="text-sm font-bold text-slate-400 uppercase tracking-widest"
              >
                Total Unit Dapur
              </p>
              <h3
                id="count-dapur"
                class="text-4xl font-black text-slate-800 mt-2"
              >
                ...
              </h3>
              <p class="text-xs text-indigo-500 mt-2 font-semibold">
                <i class="fas fa-arrow-up mr-1"></i> Terhubung Real-time
              </p>
            </div>
            <div
              class="w-16 h-16 bg-indigo-50 rounded-2xl flex items-center justify-center text-indigo-600 shadow-inner"
            >
              <i class="fas fa-store text-2xl"></i>
            </div>
          </div>

          <div
            class="stat-card bg-white p-8 rounded-3xl shadow-sm border border-slate-200 flex items-center justify-between opacity-80"
          >
            <div>
              <p
                class="text-sm font-bold text-slate-400 uppercase tracking-widest"
              >
                Aktif Hari Ini
              </p>
              <h3 class="text-4xl font-black text-slate-800 mt-2">0</h3>
              <p class="text-xs text-slate-400 mt-2">
                Fitur sedang dikembangkan
              </p>
            </div>
            <div
              class="w-16 h-16 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-600"
            >
              <i class="fas fa-check-circle text-2xl"></i>
            </div>
          </div>
        </div>

        <div
          class="bg-indigo-600 rounded-[2rem] p-10 text-white flex flex-col md:flex-row items-center justify-between shadow-2xl shadow-indigo-200 overflow-hidden relative"
        >
          <div class="relative z-10">
            <h2 class="text-3xl font-bold mb-4">
              Kelola Sistem Aguna <br />dengan Lebih Mudah
            </h2>
            <p class="text-indigo-100 mb-6 max-w-md">
              Gunakan Menu Dapur untuk memantau pendaftaran, lokasi, dan akun
              setiap unit secara terpusat.
            </p>
            <a
              href="dapur.html"
              class="bg-white text-indigo-600 px-8 py-3 rounded-xl font-bold hover:bg-indigo-50 transition-all inline-block"
              >Buka Menu Dapur</a
            >
          </div>
          <div class="hidden md:block opacity-20 absolute -right-10 -bottom-10">
            <i class="fas fa-utensils text-[200px] -rotate-12"></i>
          </div>
        </div>
      </main>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        onSnapshot,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBuIk0yhnqpcrkt4q_ed9ikJYuo6PJ78aQ",
        authDomain: "koperasi-aguna-3a14a.firebaseapp.com",
        projectId: "koperasi-aguna-3a14a",
        storageBucket: "koperasi-aguna-3a14a.firebasestorage.app",
        messagingSenderId: "668307732730",
        appId: "1:668307732730:web:c2457d9a690eb303c3f143",
        measurementId: "G-GJKDJ6LNDQ",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Update Tanggal
      const options = {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric",
      };
      document.getElementById("current-date").innerText =
        new Date().toLocaleDateString("id-ID", options);

      // Real-time counter
      onSnapshot(collection(db, "dapur"), (snapshot) => {
        const countElement = document.getElementById("count-dapur");
        countElement.innerText = snapshot.size;
      });
    </script>
  </body>
</html>
